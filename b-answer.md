#題材B 商店データベース

## Level1(本誌 第1章~第2章)

問題1　正解
商品テーブルの全てのデータを抽出する「※」を用いないこと

解答1
SELECT 商品コード、商品名、単価、商品区分、関連商品コード FROM 商品;

問題2　正解
商品テーブルの全ての商品名を抽出する

解答2
SELECT 商品名 FROM 商品;

問題3　正解
注文テーブルの全てのデータを抽出する「※」を用いること

解答3
SELECT * FROM 注文;

問題4　正解
注文テーブルの注文番号、注文枝番、商品コードを抽出する「※」を用いること

解答4
SELECT 注文番号 注文枝番 商品コード FROM 注文;

問題5　正解
商品テーブルに次のデータを追加する

商品コード　W0461
商品名　冬のあったかコート
単価 12800
商品区分 1

解答5
INSERT INTO 商品(商品コード, 商品名, 単価, 商品区分) VALUES (W0461, 冬のあったかコート, 12800, 1);

## Level2(本誌 第3章)
問題6　正解
商品テーブルから商品コードが「W1252」のデータを抽出する

解答6
SELECT * FROM 商品 WHERE 商品コード = 'W1252';

問題7　正解
商品コードが「S0023」の商品について、商品テーブルの単価を500円に変更する

解答7
UPDATE 商品 SET 単価 = 500 WHERE 商品コード = ’S0023’;

問題8　正解
商品テーブルから、単価が1,000円以下の商品データを抽出する

解答8
SELECT * FROM 商品 WHERE 単価 <= 1000;

問題9　正解
商品テーブルから、単価が50,000円以上の商品データを抽出する

解答9
SELECT * FROM 商品 WHERE 単価 >= 50000;

問題10　正解
注文テーブルから、2018年以降の注文データを抽出する

解答10
SELECT * FROM 注文 WHERE 注文日 >= '2018-01-01';

問題11　正解
注文テーブルから、2017年11月以前の注文データを抽出する

解答11
SELECT * FROM 注文 WHERE 注文日 < '2017-12-01';

問題12　正解
商品テーブルから、「衣類」でない商品データを抽出する

解答12
SELECT * FROM 商品 WHERE 商品区分 <> '1';

問題13　正解
注文テーブルから、クーポン割引を利用していない注文データを抽出する

解答13
SELECT * FROM 注文 WHERE クーポン割引料 IS NULL;

問題14　正解
商品テーブルから、商品コードが「N」で始まる商品を削除する

解答14
DELETE FROM 商品 WHERE 商品コード LIKE 'N%';

問題15　正解
商品テーブルから、商品名に「コート」が含まれる商品について、商品コード、商品名、単価を抽出する

解答15
SELECT 商品コード, 商品名, 単価 FROM 商品 WHERE 商品名 LIKE '%コート%';

問題16　不正解
「靴」または「雑貨」もしくは「未分類」の商品について、商品コード、商品区分を抽出する。記述する条件式は1つであること

解答16
SELECT 商品コード, 商品区分 FROM 商品 WHERE 商品区分 = '2' OR 商品区分 = '3' OR 商品区分 = '9';

SELECT 商品コード, 商品区分 FROM 商品 WHERE 商品区分 IN ('2','3','9');

問題17　正解
商品テーブルから、商品コードが「A0100」~「A0500」に当てはまる商品データを抽出する。記述する条件式は1つであること。

解答17
SELECT * FROM 商品 WHERE 商品コード BETWEEN 'A0100' AND 'A0500';

問題18　正解
注文テーブルから、商品コードが「N0501」「N1021」「N0223」のいずれかを注文した注文データを抽出する

解答18
SELECT * FROM 注文 WHERE 商品コード IN ('N0501','N1021', 'N0223');

問題19　正解
商品テーブルから、「雑貨」で商品名に「水玉」が含まれる商品データを抽出する

解答19
SELECT * FROM 商品 WHERE 商品区分 = '3' AND 商品名 LIKE '%水玉%';

問題20　正解
商品テーブルから、商品名に「軽い」または「ゆるふわ」のどちらかが含まれる商品データを抽出する

解答20
SELECT * FROM 商品 WHERE 商品名 LIKE '%軽い%' OR 商品名 LIKE '%ゆるふわ%';

問題21　正解
商品テーブルから、「衣類」で単価が3,000円以下、または「雑貨」で単価が10,000円以上の商品データを抽出する

解答21
SELECT * FROM 商品 WHERE (商品区分 = '1' AND 単価 <= 3000) OR (商品区分 = '3' AND 単価 >= 10000);

問題22　正解
注文テーブルから、2018年3月中に、一度の注文で数量3個以上の注文があった商品コードを抽出する。

解答22
SELECT * FROM 注文 WHERE 注文日 >= '2018-03-01' AND 注文日 <= '2018-03-31' AND 数量 >= 3;

問題23　正解
注文テーブルから、一度の注文で数量10個以上を注文したか、クーポン割引を利用した注文データを抽出する。

解答23
SELECT * FROM 注文 WHERE 数量 >= 10 OR クーポン割引量 IS NOT NULL;

問題24　正解
商品テーブルと注文テーブルそれぞれについて、主キーの役割を果たしている列名を日本語で解答する。

解答24
商品データ：商品コード
注文データ：注文日、注文番号、注文枝番

